<label >Partner University: </label>
<select id="partnerUniversity">
</select>
<label >Faculty: </label>
<select id="faculty">
</select>

<table class="table table-striped" id="exchangeTable">
  <thead>
    <tr>
        <th colspan="5" scope='colgroup' class='text-center'>Partner University</th>
        <th colspan="4" scope='colgroup' class='text-center'>NUS</th>
      </tr>
    <tr>
      <th scope="col">Faculty</th>
      <th scope="col">Partner University</th>
      <th scope="col">Module code</th>
      <th scope="col">Module name</th>
      <th scope="col">Module credit</th>
        <th scope="col">Module code</th>
        <th scope="col">Module name</th>
        <th scope="col">Module credit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Faculty of Arts and Social Sci</td>
      <td>Budapest University of Technology and Economics</td>
      <td>BMEPIPT711</td>
      <td>Departmental Project 3</td>
      <td>8.00</td>
      <td>AR4101</td>
      <td>Design 7</td>
      <td>8.00</td>
    </tr>
    <tr>
      <td>NUS Business School</td>
      <td>Hong Kong University of Science and Technology</td>
      <td>ACCT2010</td>
      <td>PRINCIPLES OF ACCOUNTING 1</td>
      <td>3.00</td>
      <td>ACC1002</td>
      <td>Financial Accounting</td>
      <td>4.00</td>
    </tr>
    <tr>
      <td>NUS Business School</td>
      <td>Hong Kong University of Science and Technology</td>
      <td>FINA3304</td>
      <td>FINANCIAL MARKETS</td>
      <td>4.00</td>
      <td>FIN3103</td>
      <td>Financial Markets</td>
      <td>4.00</td>
    </tr>
    <tr>
      <td>Faculty of Science</td>
      <td>Hong Kong University of Science and Technology</td>
      <td>LIFS1020</td>
      <td>Biology of Human Health</td>
      <td>3.00</td>
      <td>LSM1991</td>
      <td>Exchange Enrichment Module</td>
      <td>4.00</td>
    </tr>
  </tbody>
</table>
<script type="text/javascript">
	var exchangeTable = document.getElementById('exchangeTable');
	var tableLength = exchangeTable.rows.length;
	let UniversitySet = new Set();
	for(let i=2;i< tableLength;i++){
		var cell = exchangeTable.rows.item(i).cells.item(1).innerHTML;
		UniversitySet.add(cell);
	}
	for(let item of UniversitySet){
		$('#partnerUniversity').append($('<option></option>')
			.attr('value', item )
		.text(item));
	}
	$( "#partnerUniversity" ).change(fillFaculty);
	function fillFaculty() {
		let content = document.getElementById('partnerUniversity').value;
		let select = $('#faculty');
		select.empty();
		const facultyEntry = new Set();
		for(let i=2;i< tableLength;i++){
		var cell = exchangeTable.rows.item(i).cells.item(1).innerHTML;
			console.log(cell);
			if(cell == content){
				var valInFaculty = exchangeTable.rows.item(i).cells.item(0).innerHTML;
				facultyEntry.add(valInFaculty);
			}	
		}
		for(let item of facultyEntry){
			select.append($('<option></option>')
				.text(item));
	
		}
	}

	fillFaculty();
	$( "#faculty" ).change(function(){
		alert();
	});


</script>
